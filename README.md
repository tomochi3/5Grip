# 5Grip - チーム制ボルダリング大会 Webサイト

2026年2月7日（土）開催の「チーム制ボルダリング大会」のランディングページおよび関連リソースです。
未経験者から経験者まで楽しめるチーム対抗のボルダリングイベントの情報を掲載しています。

## ディレクトリ構成

- **`index.html`**: 大会LPのメインページ。詳細情報、FAQ、応募フォームなど。
- **`style.css`**: メインページのスタイルシート。
- **`script.js`**: メインページのインタラクション用スクリプト。
- **`game.html`**: 大会当日の進行や状況可視化などで使用するゲームモード画面（開発中）。
- **`game.css` / `game.js`**: ゲームモード用のスタイルおよびスクリプト。
- **`key.js`**: 【管理者用】Google Spreadsheetと連携して参加人数を自動更新するためのGoogle Apps Script (GAS) コード。
- **`.gitignore`**: Git管理から除外する設定（`key.js`などの機密情報を含むファイル用）。

## 運用・更新について

### 参加人数の自動更新システム

`key.js` は、Google Spreadsheetのスクリプトエディタに貼り付けて使用することを想定したコードです。
スプレッドシート上の応募者数を取得し、GitHub APIを通じて `index.html` の「登録数」を自動的に更新します。

#### セットアップ手順

1. **Google Apps Script (GAS) の作成**
   - 応募管理用のGoogleスプレッドシートを開き、「拡張機能」>「Apps Script」を選択します。
   - エディタが開いたら、このリポジトリにある `key.js` の内容をコピーして貼り付けます。

2. **定数の設定**
   - `GITHUB_TOKEN`: GitHubのPersonal Access Token（repo権限が必要）を設定します。
   - `REPO_OWNER`, `REPO_NAME`: リポジトリの情報を設定します。
   - `SS_ID`, `TARGET_SHEET_ID`: 参照するスプレッドシートのIDとシートID(gid)を指定します。

3. **更新箇所のマーカー設定 (index.html)**
   - `index.html` 内の更新したい箇所を特定のマーカーコメントで囲む必要があります。
   - 現状の `index.html` にはマーカーがないため、`key.js` の `markerRegex` の設定に合わせてHTML側にコメントタグを追加してください。
   - 例: `<span>登録数: <!-- START -->120<!-- END --></span>` とし、正規表現で `<!-- START -->` と `<!-- END -->` の間を置換するように `key.js` を調整します。

4. **トリガーの設定**
   - GASのトリガー設定から、定期実行（例：1時間おき）や、スプレッドシート編集時(`onEdit`)に `updateGithubFile` 関数が実行されるように設定します。

### ※セキュリティに関する注意
`key.js` には `GITHUB_TOKEN` などの機密情報が含まれるため、**リポジトリにはコミットしないよう `.gitignore` に設定されています**。誤ってトークンを公開しないようご注意ください。
